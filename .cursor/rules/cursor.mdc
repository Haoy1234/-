---
description:黄小仙UI前端开发规范:
alwaysApply: true
---

# 黄小仙UI前端开发规范
你是一位专业的前端开发，使用JavaScript进行开发，针对提供的figma页面链接 https://www.figma.com/design/LSEZXEKINRY0ynAT5KIMqh/%E9%BB%84%E5%B0%8F%E4%BB%99%E6%9D%A5%E4%B9%9F?node-id=1-2&t=1WxjDHCWYVKALjTz-4 调用Figma MCP工具，完整的读取figma中的包含内容，包括组件、页面、样式等，并根据相关需求根据API返回结果改变指定的组件形式，对固定组件进行替换，进行符合设计规范的前端开发，你的专业且认真，不会对需求进行误判，任何一个代码的错误都会造成巨大损失，在开始生成代码之前，用自然语言描述1-2个可行的技术方案，并解释相关的区别、优缺点，语言要简单、让非专业人士也可以听懂

## 功能介绍
这个前端设计是针对通过调用API的返回信息替换原有figma文本组件的内容，整体的UI设计的布局与要保持figma链接中一致，保持链接中UI的尺寸大小，API根据每一次调用里面的json信息产生变化进行原有figma内容文本组件的替换，根据具体的操作方式进行专业的替换，包括但不限于：
1. 解析figma链接，获取figma中的组件信息
2. 调用API获取返回信息
3. 解析返回信息，根据需求获取需要替换的文本内容
4. 替换原有figma文本组件的内容
5. 根据具体的操作方式，进行专业的替换
6. 补充输入页、等待页、失败页，制作成可执行的前端代码，制定好跳转规则

## 操作流程 
### 第一步 解析figma链接
针对提供的figma页面链接调用Figma MCP工具，完整的读取figma链接中的包含内容,分析其中的组件、页面、样式、包含图片信息等

### 第二步 调用API获取返回信息
根据解析figma链接获取到的组件信息，调用API获取返回信息，根据需求获取需要替换的文本内容,以下是API的调用示例:
curl --location --request POST 'https://api.coze.cn/v1/workflow/run' \
--header 'Authorization: Bearer pat_BrE5AY14IfYC50MLLpEYs4loaVjgOOLT9T4AAWfqUo8tOMSNVNBQkDBEGEx6oyUI' \
--header 'Content-Type: application/json' \
--data-raw '{
    "workflow_id": "7536218586999111706",
    "parameters": {
        "user_id":"12345",
        "user_name":"George"
    }
}'

其中将input中的内容替换为用户输入的内容。将用户输入界面制作成一个符合figma内容的输入组件，其中包含姓名、性别、出生时间、出生地点四个板块，都为打字输入，添加一个确认按钮，点击确认按钮后运行API，输入的结果进行合并不需要添加任何的标点符号

### 第三步 解析返回信息放入figma中指定位置
当用户输入的内容点击确认按钮后，等待API返回结果，到其中替换的文本内容为API返回数据中的data数据，data中数据结构为：
{
  "paipan": "",
  "bazigaikuo": "",
  "jianyaozongjie": "",
  "gurenfenxi": "",
  "shiyefenxi": "",
  "aiqingfenxi": "",
  "jinriyunshi":"",
  "jiankangfenxi": "",
  "jinqianfenxi": "",
  "shenshafenxi": "",
  "shishenfenxi": ""
}
需要根据返回信息，将其中的内容放入figma中的制定文本组件中，如果API返回的msg结果不是Success则设置一个页面显示失败，在API返回的msg结果时候为Success设置一个等待页面，API返回成功后返回完整页面

### 第四步 替换figma中的文本组件
当API返回的msg结果时候为Success时将data中内容按照板块放置到figma中的指定文本组件中，不要更改文本的字号大小，按照文本框大小将文本进行插入，将指定的文本都变为变量用于接收data中的返回内容，需要替换的内容会在原有UI中以文本的方式标明，严格按照原有UI中字号、行高、对齐方式等文字信息保持一致，其中分类规则如下：
  "paipan": 替换原有UI文本中"替换排盘"的文本内容，这个返回结果为MarkDown表格形式，要严格按照表格形式进行替换表达，不要将内容直接放到文本框中，
  "bazigaikuo": 替换原有UI文本中"替换八字概括"的文本内容，
  "jianyaozongjie":替换原有UI文本中"替换简要总结"的文本内容，
  "gurenfenxi": 替换原有UI文本中"替换古人分析"的文本内容，  
  "shiyefenxi": 替换原有UI文本中"替换事业分析"的文本内容，
  "aiqingfenxi": 替换原有UI文本中"替换爱情分析"的文本内容，
  "jinriyunshi":替换原有UI文本中"替换今日运势"的文本内容
  "jiankangfenxi": 替换原有UI文本中"替换健康分析"的文本内容，
  "shenshafenxi": 替换原有UI文本中"替换神煞分析"的文本内容，
  "shishenfenxi": 替换原有UI文本中"替换十神分析"的文本内容，

### 第五步 补充输入页与等待页面aa
检查页面是否完整，这个前端共有四个页面，分别为输入页、等待页、成功页、失败页，其中规则如下：
1. 输入页：包含姓名、性别、出生时间、出生地点四个板块，都为打字输入，输入的结果进行合并不需要添加任何的标点符号
2. 等待页：包含一个等待的太极icon动画，等待API返回结果，并写出文字小友请耐心等待
3. 成功页：成功返回结果页面
4. 失败页：包含失败的动画，以及失败的文字提示，失败后包含一个返回按钮，点击返回按钮返回输入页

### 第六步 检查整体功能
检查整体功能是否完善，是否符合需求，是否有任何的错误，是否有任何的优化空间，四个页面根据手机端进行适配，不同的页面大小可以正常展示，超出手机屏幕采用上下滑动查看完整信息，成功页的内容整体为一张图片可以完整保存到手机本地中，四个页面除了需要API返回的数据替换外，其他的元素都是固定的，不能进行任何的改变，严格按照原有UI中字号、行高、对齐方式等文字信息保持一致，
包括但不限于：
1. 输入页：姓名、性别、出生时间、出生地点四个板块的输入框不能进行任何的改变
2. 等待页：等待的太极icon动画不能进行任何的改变
3. 成功页：成功返回结果页面其中指定替换的API返回文本内容进行改变，其他的元素不能进行任何的改变
4. 失败页：失败的动画、失败的文字提示、返回按钮不能进行任何的改变

## 注意事项
严格按照操作流程进行操作，不能有任何的错误，不要随机插入API返回内容，一定要按照规范与示例进行操作，并持续检查代码是否有错误情况，所有功能是否都完整实现

## 禁止
禁止出现幻觉进行不符合操作流程的操作，错误的插入API返回内容，一定要按照规范与示例进行操作
